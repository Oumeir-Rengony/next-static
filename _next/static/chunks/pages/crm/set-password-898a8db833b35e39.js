(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[854],{76486:function(n,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/crm/set-password",function(){return o(163)}])},163:function(n,e,o){"use strict";o.r(e),o.d(e,{__N_SSG:function(){return F}});var t=o(47568),a=o(26042),r=o(69396),i=o(828),l=o(7297),d=o(20414),s=o(85893),c=o(67294),u=o(9008),v=o.n(u),p=o(19521),g=o(14001),m=o(1975),b=o(93585),w=o(56626),f=o(12766),h=o(98193),x=o(28106),_=o(54965),P=o(98728),y=o(81119),S=o(7424);function L(){var n=(0,l.Z)(["\n  &.container {\n    .wrap-box-header {\n      margin-bottom: 2px;\n      .header-container {\n        border-bottom: none;\n      }\n    }\n    margin: 0 auto;\n\n    .wrap-box-bg-left {\n      align-items: center;\n      justify-content: flex-end;\n      display: none;\n    }\n    .wrap-box-bg-right {\n      align-items: center;\n      justify-content: flex-start;\n      padding: 0 23px;\n      display: none;\n    }\n    .wrap-box {\n      padding-right: 0px;\n      padding-left: 0px;\n    }\n  }\n  .field-container .js-password {\n    margin-bottom: 16px;\n  }\n  .header-backbutton .btn.title {\n    min-with: 66px;\n  }\n  .container_box {\n    padding: 0;\n  }\n  .header-container .header-backbutton {\n    margin-left: 10px;\n  }\n  .wrap-tab {\n    margin-bottom: 22px;\n  }\n  .social-merge .wrap-tab {\n    margin-bottom: 20px;\n  }\n  .wrap-form-login {\n    max-width: 332px;\n    margin: 0 auto;\n    width: 100%;\n    .icon-svg {\n      top: 13px;\n      right: 10px;\n    }\n    .c-checkbox__label-text {\n      padding-left: 9px;\n      padding-top: 2px;\n    }\n  }\n  @media only screen and (min-width: 768px) {\n    .login-header {\n      margin-bottom: 15px;\n    }\n\n    .login-header-bg {\n      margin-bottom: 15px;\n    }\n\n    .reset-password-wrapper {\n      padding-bottom: 96px;\n    }\n  }\n  @media only screen and (min-width: 768px) {\n    .btn.title {\n      padding-top: 12px;\n    }\n  }\n  @media only screen and (min-width: 768px) {\n    &.container {\n      .wrap-box-header-social-merge,\n      .wrap-box-header,\n      .wrap-box-header-banner {\n        .header-backbutton {\n          margin-left: 3px;\n        }\n      }\n      .wrap-box-header-social-merge,\n      .wrap-box-header {\n        margin-bottom: 41px;\n      }\n      .wrap-box-header-banner {\n        margin-bottom: 28px;\n      }\n      .banner {\n        display: block;\n      }\n      .wrap-box-bg-left {\n        display: flex;\n      }\n      .wrap-box-bg-right {\n        display: flex;\n      }\n    }\n    .container_box {\n      box-shadow: 0px 1px 5px 3px rgba(0, 0, 0, 0.1);\n      max-width: 580px;\n      min-height: 400px;\n      padding: 0;\n    }\n    .wrap-tab,\n    .social-merge .wrap-tab {\n      margin-bottom: 26px;\n    }\n    .cta-facebook-connect {\n      margin-right: 8px;\n    }\n    .cta-submit-login {\n      margin-right: 2px;\n    }\n  }\n"]);return L=function(){return n},n}function N(){var n=(0,l.Z)(["\n  ","\n"]);return N=function(){return n},n}var B=S.do,E=S.Fy,k=S.y6,R=S.qQ,Z=S.$0,j=(0,p.iv)(L()),A=p.ZP.div.withConfig({componentId:"sc-a411ebd-0"})(N(),j),F=!0;e.default=function(n){var e,o,l,u=(0,i.Z)(c.useState(null),2),p=u[0],S=u[1],L=(0,i.Z)(c.useState(null),2),N=L[0],j=L[1],F=n.setPassword.login.items[0],I=x.B.GetSetNewpasswordHeaderProps(F.logo,F.vortexScenario),G={title:F.title,metaTitle:F.metaTitle,metaDescription:F.metaDescription,googleSiteVerification:null===(e=n.siteSetting)||void 0===e?void 0:e.googleSiteVerification,noIndex:!0,siteIcon:null===(o=n.siteSetting)||void 0===o||null===(l=o.siteIcon)||void 0===l?void 0:l.url,currentUrl:n.setPassword.login.items[0].path,heroImage:null,hrefLangs:F.hrefLangs,isOpengraph:!0,gpocId:null===F||void 0===F?void 0:F.gpocId};c.useEffect((function(){var e=(0,f.Ir)("code");function o(){return(o=(0,t.Z)((function(){return(0,d.__generator)(this,(function(e){switch(e.label){case 0:return[4,x.B.GetSetNewPasswordForm(n.siteSetting.setPasswordFormId,n.siteSetting.setPasswordFlowName)];case 1:return S.apply(void 0,[e.sent()]),[2,null]}}))}))).apply(this,arguments)}null!==e&&void 0!==e&&""!==e?j(e):x.B.RedirectToResetPassword(),function(){o.apply(this,arguments)}()}),[]);var O=(0,i.Z)(c.useState(null),2),T=O[0],C=O[1];c.useEffect((function(){var e=(0,y.gh)(n.smartBannerData,P.d,F.__typename,window.location.href);C(e)}),[]);var q={eventLabel:"".concat(B.eng).concat(R.allsite).concat(k.navbar).concat(E.other).concat(Z.all,"pampers-logo")};return(0,s.jsxs)("div",{children:[(0,s.jsx)(v(),{children:(0,_.ON)(G)}),(0,s.jsx)(h.M7,{datalayerObject:(0,h.Nv)()}),(null===w||void 0===w?void 0:w.SmartAppBannerActivated)&&(null===T||void 0===T?void 0:T.isActive)&&(0,s.jsx)(b.N,(0,a.Z)({},T)),(0,s.jsxs)(A,{className:["container",(null===w||void 0===w?void 0:w.enableAccessibilityFeatures)?"accessible-variant":""].join(" "),"data-cy":"set-password-page",children:[(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-md-12 wrap-box-header-banner",children:I&&(0,s.jsx)(g.m,(0,r.Z)((0,a.Z)({},I),{headerLogoDataActionDetails:q}))})}),(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-md-6 offset-md-3 wrap-box",children:(0,s.jsx)("div",{className:"container_box",children:p&&(0,s.jsx)(m.t,(0,a.Z)({enableAccessibleFeatures:null===w||void 0===w?void 0:w.enableAccessibilityFeatures},x.B.GetSetNewPasswordProps(p,N,F.vortexScenario)))})})})]})]})}},28106:function(n,e,o){"use strict";o.d(e,{B:function(){return m}});var t=o(47568),a=o(51438),r=o(20414),i=o(79340),l=o(12766),d=o(56626),s=o(7424),c=s.do,u=s.Fy,v=s.y6,p=s.qQ,g=s.$0,m=function(){function n(){(0,a.Z)(this,n)}return n.AddGlobalErrorResetPassword=function(n){var e=document.querySelector(".form-field-global-error");if(void 0===e||null===e){var o=document.querySelector(".email").querySelector(".form-control"),t=document.createElement("span");t.innerHTML=n,t.classList.add("form-field-error-message"),t.classList.add("form-field-global-error"),o.append(t)}else e.innerHTML=n},n.AddGlobalErrorSetPassword=function(n){var e=document.querySelector("#newPassword");e&&(e.innerHTML=n,e.classList.replace("sr-only","form-field-error-message"))},n.RedirectToResetPassword=function(){window.location.href=encodeURI(d.Pages.ResetPassword)},n}();m.GetResetPasswordForm=function(){var n=(0,t.Z)((function(n,e){return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return[4,(0,i.rN)(n,e)];case 1:return[2,o.sent()]}}))}));return function(e,o){return n.apply(this,arguments)}}(),m.GetSetNewPasswordForm=function(){var n=(0,t.Z)((function(n,e){return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return[4,(0,i.rN)(n,e)];case 1:return[2,o.sent()]}}))}));return function(e,o){return n.apply(this,arguments)}}(),m.GetResetPasswordProps=function(n,e){return{crmForm:n,handlerSubmit:(0,t.Z)((function(){return(0,r.__generator)(this,(function(e){return m.PostResetPassword(n),[2]}))})),eventLabel:"".concat(null===e||void 0===e?void 0:e.title),analytics:{eventLabelValid:"".concat(null===c||void 0===c?void 0:c.eng).concat(null===p||void 0===p?void 0:p.reg_page).concat(null===v||void 0===v?void 0:v.other).concat(null===u||void 0===u?void 0:u.other).concat(null===g||void 0===g?void 0:g.all).concat(null===e||void 0===e?void 0:e.title),eventLabelError:"".concat(null===c||void 0===c?void 0:c.eng).concat(null===p||void 0===p?void 0:p.reg_page).concat(null===v||void 0===v?void 0:v.other).concat(null===u||void 0===u?void 0:u.cta).concat(null===u||void 0===u?void 0:u.other).concat(null===e||void 0===e?void 0:e.title)}}},m.GetSetNewPasswordProps=function(n,e,o){return{crmForm:n,handlerSubmit:(0,t.Z)((function(){return(0,r.__generator)(this,(function(e){return m.PostSetNewPassword(n),[2]}))})),authorizationCode:e,eventLabel:o.title,analytics:{gaClassValid:"event_profile_change_password_complete",gaClassError:"event_profile_change_password_error",eventLabelValid:"".concat(null===c||void 0===c?void 0:c.eng).concat(null===p||void 0===p?void 0:p.reg_page).concat(null===v||void 0===v?void 0:v.other).concat(null===u||void 0===u?void 0:u.other).concat(null===g||void 0===g?void 0:g.all).concat(null===o||void 0===o?void 0:o.title),eventLabelError:"".concat(null===c||void 0===c?void 0:c.eng).concat(null===p||void 0===p?void 0:p.reg_page).concat(null===v||void 0===v?void 0:v.other).concat(null===u||void 0===u?void 0:u.other).concat(null===g||void 0===g?void 0:g.all).concat(null===o||void 0===o?void 0:o.title)}}},m.GetResetpasswordHeaderProps=function(n,e){var o,t,a;return{showBackBtn:!0,logo:{title:(null===n||void 0===n?void 0:n.title)||(null===d||void 0===d||null===(o=d.SEO)||void 0===o?void 0:o.Brand),srcset:(null===n||void 0===n?void 0:n.url)||(null===d||void 0===d||null===(t=d.SEO)||void 0===t?void 0:t.EmbeddedLogo),alt:(null===n||void 0===n?void 0:n.title)||(null===d||void 0===d||null===(a=d.SEO)||void 0===a?void 0:a.Brand)},className:"login-header event_button_click",backBtnLabel:"Back",backBtnEventLabel:"".concat(null===c||void 0===c?void 0:c.eng).concat(null===p||void 0===p?void 0:p.reg_page).concat(null===v||void 0===v?void 0:v.other).concat(null===u||void 0===u?void 0:u.cta).concat(null===g||void 0===g?void 0:g.all).concat(null===e||void 0===e?void 0:e.title),backBtnUrl:d.Pages.Login}},m.GetSetNewpasswordHeaderProps=function(n,e){var o,t,a;return{showBackBtn:!1,logo:{title:(null===n||void 0===n?void 0:n.title)||(null===d||void 0===d||null===(o=d.SEO)||void 0===o?void 0:o.Brand),srcset:(null===n||void 0===n?void 0:n.url)||(null===d||void 0===d||null===(t=d.SEO)||void 0===t?void 0:t.EmbeddedLogo),alt:(null===n||void 0===n?void 0:n.title)||(null===d||void 0===d||null===(a=d.SEO)||void 0===a?void 0:a.Brand)},className:"login-header event_button_click",backBtnLabel:"Back",backBtnEventLabel:"".concat(null===c||void 0===c?void 0:c.eng).concat(null===p||void 0===p?void 0:p.reg_page).concat(null===v||void 0===v?void 0:v.other).concat(null===u||void 0===u?void 0:u.cta).concat(null===g||void 0===g?void 0:g.all).concat(null===e||void 0===e?void 0:e.title)}},m.PostResetPassword=function(){var n=(0,t.Z)((function(n){var e,o,t,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=null!==n&&null!==n.data&&null!==n.data.flow_name&&""!==n.data.flow_name?n.data.flow_name:"ResetPassword",o=(0,l.Ps)({by:"id",value:"reset-password-form-id"}),t=o.randomNumber,a=(0,l.Ue)(t),m.AddLoader(a),[4,(0,i.B$)(e,o)];case 1:return r.sent(),(0,l.L8)(d.Pages.ThankYouResetPassword)&&(window.location.href=encodeURI(d.Pages.ThankYouResetPassword)),m.RemoveLoader(a),[2]}}))}));return function(e){return n.apply(this,arguments)}}(),m.PostSetNewPassword=function(){var n=(0,t.Z)((function(n){var e,o,t,a,s,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=null!==n&&null!==n.data&&null!==n.data.flow_name&&""!==n.data.flow_name?n.data.flow_name:"SetNewPassword",(o=(0,l.Ps)({by:"id",value:"reset-password-form-id"})).decryptParams=!1,t=o.randomNumber,a=(0,l.Ue)(t),m.AddLoader(a),[4,(0,i.B$)(e,o)];case 1:return"OK"===(s=r.sent()).result?(localStorage.setItem("resetPasswordInstantMessage","Your new password has been set!"),(0,l.L8)(d.Pages.Login)&&(window.location.href=encodeURI(d.Pages.Login))):(c=s.data.hasOwnProperty("changePasswordFormNoAuth")?s.data.changePasswordFormNoAuth:s.data.invalid_request,m.AddGlobalErrorSetPassword(c),console.log("Failed!! Set new password")),m.RemoveLoader(a),[2]}}))}));return function(e){return n.apply(this,arguments)}}(),m.AddLoader=function(n){var e=n.getElementsByClassName("btn")[0];e.classList.add("loading"),e.setAttribute("disabled","disabled")},m.RemoveLoader=function(n){var e=n.getElementsByClassName("btn")[0];e.classList.remove("loading"),e.removeAttribute("disabled")}}},function(n){n.O(0,[9774,8698,4885,4444,1413,6145,3950,2888,2716,179],(function(){return e=76486,n(n.s=e);var e}));var e=n.O();_N_E=e}]);